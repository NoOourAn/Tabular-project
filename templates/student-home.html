{% extends "base.html" %}
{% load static %}
{% block head %}
 <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      #paddingbox{
      background-image: url("{% static 'images/labtop-mockup.png' %}");
      text-align: center;

      }
      .transbox{
      width: 100%;
      height: 600px;
      background: rgba(0,0,0,0.5);
      font: 30px arial, sans-serif;
      padding: 160px 100px;
      color: #ffffff;
      line-height: 1.4;
      }
      .bgbox{
      background: url("{% static 'images/labtop-mockup.png' %}") center center fixed no-repeat;
      background-size: cover;
      width: 100%;
      }

       .footer-container{
      height: 56px;
      width: 100% ;
      background-color:#343a40;
      padding-top: 16px;
      padding-left: 80px;
      padding-right: 80px;
      }
      .footer-container p{
      color:rgba(255,255,255,.5);
      }
      .footer-container a{
      color:#28a745;
      text-decoration: none;
      }
      #logo {
      color: rgba(255,255,255,.5);
      font-size: x-large;
      font-family: cursive;
      font-style: italic;

      }
      .tablebox{
      width: 100%;
      height: 300px;
      padding: 150px;
      background-color: #ffffff;
      }



    </style>
{% endblock %}

{% block content %}
<main role="main">

  <!-- Main jumbotron for a primary marketing message or call to action -->


{% if user.is_S %}
  <div  class="bgbox" id="paddingbox">
    <div class="transbox">
      <h1 class="display-3 ">Search</h1>
      <p>Search for your Schedule by Access code.</p>



<!--      <p><a class="btn btn-primary btn-sm" href="#" role="button">Learn more &raquo;</a></p>-->
      <div class="btn-group" role="group" aria-label="Basic example">
          <form method="post" action="{% url 'search' %}" class="form-inline mt-2 mt-md-0" >{% csrf_token %}
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search" name="search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
    </div>
  </div>

        {% if code %}
    <div class="tablebox">
        <div class="alert alert-success" role="alert">
            Found it!
        </div>
        <a href="{% url 'fetchtimetable' %}">{{ code }}</a>
            </div>
        {% endif %}


    			{% if tt %}
				<div class="table100 ver2 m-b-110">
					<table data-vertable="ver2">
						<thead>

							<tr class="row100 head">
								<th class="column100 column1" data-column="column1"></th>

								{% for i in timeslots %}
								<th class="column100 column2" data-column="column2">{{ i }}</th>
								{% endfor %}

							</tr>

						</thead>
						<tbody>

							{% for key, value in subjects.items %}
								<tr class="row100">
									<td class="column100 column1" data-column="column1">{{ key }}</td>
										{% for j in timeslots %}
											{% if j not in value %}
												<td class="column2">...</td>
											{% else %}
											{% endif %}
										{% endfor %}
								</tr>
							{% endfor %}

						</tbody>
					</table>
				</div>

			{% endif %}




<!--            {% if table %}-->
<!--    <div class="tablebox">-->

<!--        <a href="{% url 'fetchtimetable' %}">{{ table }}</a>-->
<!--            </div>-->
<!--        {% endif %}-->

        {% if error %}
            <div class="container" style="margin:100px;">
            <div class="alert alert-danger" role="alert">
                {{ error }}
            </div>
        </div>
        {% endif %}


{% else %}

    <meta http-equiv="REFRESH" content="0;url={% url 'home' %}">

{% endif %}
</main>

{% endblock %}
